\section[بیابید «مشکل را پنهان کن» بازی کنیم]{بیابید «مشکل را پنهان کن» بازی کنیم \protect\LTRfootnote{\lr{Let's Play "Hide the Problem"}} (راهنمایی \ref{hint:108}، جواب \ref{answer:68})}
\paragraph{}\label{prog:67}
برنامهٔ زیر، با یک خطای تقسیم اعشاری بر روی یونیکس مواجه می‌شود. این امر خیلی سردرگم‌کننده است چون ما هیچ عملیات اعشاری انجام نمی‌دهیم.

برای این که مشکل را پیدا کنیم، تعداد کمی دستور \lr{\texttt{printf}} در برنامه گنجاندیم و فهمیدیم که مشکل جایی قبل از فراخوانی تابع است. این را از آنجا می‌گوئیم که هیچ وقت پیغام \lr{\texttt{"starting"}} مشاهده نمی‌شود.

\begin{LTR}
    %@formatter:off
    \begin{lstlisting}[style=C++Style]
         /************************************************
         * Compute a simple average. Because this *
         * takes a long time (?) we output some *
         * chatter as we progress through the system. *
         ************************************************/
         #include <stdio.h>

         /************************************************
         * average -- Compute the average given the *
         * total of the series and the number *
         * of items in the series. *
         * *
         * Returns: *
         * The average. *
         ************************************************/
         int average(
         	const int total,// The total of the series
         	const int count // The number of items
         )
         {
         	return (total/count);
         }

         int main()
         {
        	 int ave; // Average of the number

         	printf("Starting....");
         	ave = average(32, 0);
         	printf("..done\n");

         	printf("The answer is %d\n", ave);
         	return (0);
         }
    \end{lstlisting}
    %@formatter:on
\end{LTR}