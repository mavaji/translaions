\section[چگونه یک فایل را نخوانیم]{چگونه یک فایل را نخوانیم \protect\LTRfootnote{\lr{How Not to Read a File}} (راهنمایی \ref{hint:161}، جواب \ref{answer:71})}
\paragraph{}\label{prog:57}
چه مشکلی از لحاظ قابلیت‌حمل در برنامهٔ زیر وجود دارد؟

\begin{LTR}
    %@formatter:off
    \begin{lstlisting}[style=C++Style]
         #include <iostream>

         /*
         * A data structure consisting of a flag
         * which indicates which long int parameter
         * follows.
         */
         struct data
         {
         	// Flag indicating what's to follow
         	char flag;

         	// Value of the parameter
         	long int value;
         };

         /************************************************
         * read_data -- Read data from the given file *
         ************************************************/
         void read_data(
         	std::istream &in_file, // File to read
         	struct data &what // Data to get
         )
         {
         	in_file.read(
         		dynamic_cast<char *>(&what),
         		sizeof(what));
         }
    \end{lstlisting}
    %@formatter:on
\end{LTR}